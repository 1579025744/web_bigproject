<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我是主页面</title>
    <!-- 导入 layui-->
    <!-- <link rel="stylesheet" href="/css/layui.css"> -->
    <link rel="stylesheet" href="/css/layui.css">
    <link rel="stylesheet" href="/css/cropper.css">
    <!-- 字体图标 -->
    <link rel="stylesheet" href="/iconfont/iconfont.css">
    <link rel="stylesheet" href="/css/index.css">
</head>

<body>
    <div class="layui-layout layui-layout-admin">
        <div class="layui-header">
            <div class="layui-logo layui-hide-xs layui-bg-black">
                <img src="/images/logo.png" alt="">
            </div>
            <!-- 头部区域（可配合layui 已有的水平导航） -->
            <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item layui-hide layui-show-md-inline-block">
                    <a href="javascript:;" class="userinfo">
                        <img src="" class="layui-nav-img topImg">
                        <span class="text-avatar">A</span>
                        个人中心
                    </a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;" data-id="info">基本资料</a></dd>
                        <dd><a href="javascript:;" data-id="checkImg">更换头像</a></dd>
                        <dd><a href="javascript:;" data-id="resetPass">重置密码</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;" id="btnLogout">
                        <span class="iconfont icon-h"></span>
                        退出
                    </a>
                </li>
            </ul>
        </div>

        <div class="layui-side layui-bg-black ">
            <div class="layui-side-scroll silder">
                <!-- 左侧头像 -->
                <div class="userinfo">
                    <img src="" class="layui-nav-img topImg">
                    <span class="text-avatar">A</span>
                    <span id="welcome">欢迎XXX</span>
                </div>
                <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
                <ul class="layui-nav layui-nav-tree" lay-shrink="all">
                    <!--lay-shrink="all" 同一时间只展开一个下拉列表-->
                    <li class="layui-nav-item layui-nav-itemed layui-this">
                        <a class="" href="javascript:;"><span class="iconfont icon-shouye"></span>首页</a>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript:;"><span class="iconfont icon-wenzhangguanli"></span>文章管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" data-id="artCate"><i
                                        class="layui-icon layui-icon-app"></i>文章类别</a></dd>
                            <dd><a href="javascript:;" data-id="artList"><i
                                        class="layui-icon layui-icon-app"></i>文章列表</a></dd>
                            <dd><a href="javascript:;" data-id="artPub"><i
                                        class="layui-icon layui-icon-app"></i>发表文章</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript:;"><span class="iconfont icon-geren"></span>个人中心</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" data-id="info"><i class="layui-icon layui-icon-app"></i>基本资料</a>
                            </dd>
                            <dd><a href="javascript:;" data-id="checkImg"><i
                                        class="layui-icon layui-icon-app"></i>更换头像</a></dd>
                            <dd><a href="javascript:;" data-id="resetPass"><i
                                        class="layui-icon layui-icon-app"></i>重置密码</a></dd>
                        </dl>
                    </li>
                </ul>
            </div>
        </div>


        <!-- 首页 -->
        <div class="layui-body hei">
            <!-- 内容主体区域 -->
            <!-- <div style="padding: 15px;">内容主体区域。记得修改 layui.css 和 js 的路径</div> -->
            <!-- <iframe name="fm" src="../home/dashboard.html" frameborder="0"></iframe> -->
            <div style="padding: 12px;">首页</div>
        </div>

        <!-- 文章管理 -->
        <!-- 文章类别 -->
        <div class="layui-body hei xxx" id="artCate">
            <!-- 卡片区域 -->
            <div class="layui-card">
                <div class="layui-card-header">
                    <span>文章类别管理</span>
                    <button type="button" class="layui-btn layui-btn-normal layui-btn-sm" id="btnAddCate">添加类别</button>
                </div>
                <div class="layui-card-body xxx">
                    <table class="layui-table">
                        <colgroup>
                            <col />
                            <col />
                            <col width="200" />
                        </colgroup>
                        <thead>
                            <tr>
                                <th>序号</th>
                                <th>分类名称</th>
                                <th>分类别名</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 文章列表  -->
        <div class="layui-body hei" id="artList">
            <!-- 卡片区域 -->
            <div class="layui-card">
                <div class="layui-card-header">文章列表</div>
                <div class="layui-card-body  xxx">
                    <!-- 筛选区域 -->
                    <form class="layui-form layui-form-pane" pane id="form-searchs">
                        <div class="layui-form-item layui-input-inline" >
                            <label class="layui-form-label">分类</label>
                            <div class="layui-input-inline">
                              <select name="cate_id" class="layui-input-inline"></select>
                            </div>
                          </div>
                          <div class="layui-form-item layui-input-inline">
                            <label class="layui-form-label">状态</label>
                            <div class="layui-input-inline">
                            <select name="state">
                                <option value="">所有状态</option>
                                <option value="已发布">已发布</option>
                                <option value="草稿">草稿</option>
                            </select>
                            </div>
                          </div>
                        <div class="layui-form-item layui-inline">
                            <button class="layui-btn" lay-submit lay-filter="formDemo">筛选</button>
                            <button class="layui-btn layui-btn-primary" lay-submit lay-filter="formCz">重置</button>
                        </div>
                    </form>

                    <!-- 列表区域 -->
                    <table class="layui-table">
                        <colgroup>
                            <col />
                            <col width="150" />
                            <col width="180" />
                            <col width="150" />
                            <col width="150" />
                        </colgroup>
                        <thead>
                            <tr>
                                <th>文章标题</th>
                                <th>分类</th>
                                <th>发表时间</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="artList_tbody"></tbody>
                    </table>
                    <!-- 分页区域 -->
                    <div id="pageBox"></div>
                </div>
            </div>
        </div>

        <!-- 发表文章 -->
        <div class="layui-body hei" id="artPub">
            <!-- 卡片区域 -->
            <div class="layui-card">
                <div class="layui-card-header">发布文章</div>
                <div class="layui-card-body  xxx pd">
                    <!-- 发布文章的表单 -->
                    <form class="layui-form" id="form-pub">
                        <!-- 文章标题 -->
                        <div class="layui-form-item">
                            <label class="layui-form-label">文章标题</label>
                            <div class="layui-input-block">
                                <input type="text" name="title" required lay-verify="required" placeholder="请输入标题"
                                    autocomplete="off" class="layui-input" />
                            </div>
                        </div>
                        <!-- 文章类别 -->
                        <div class="layui-form-item">
                            <label class="layui-form-label">文章类别</label>
                            <div class="layui-input-block">
                                <select name="cate_id" lay-verify="required"></select>
                            </div>
                        </div>
                        <!-- 文章内容 -->
                        <div class="layui-form-item">
                            <!-- 左侧的 label -->
                            <label class="layui-form-label">文章内容</label>
                            <!-- 为富文本编辑器外部的容器设置高度 -->
                            <div class="layui-input-block" style="height: 400px;">
                                <!-- 重要：将来这个 textarea 会被初始化为富文本编辑器 -->
                                <textarea name="content"></textarea>
                            </div>
                        </div>
                        <!-- 文章封面 --选择图片文件 -->
                        <div class="layui-form-item">
                            <!-- 左侧的 label -->
                            <label class="layui-form-label">文章封面</label>
                            <!-- 选择封面区域 -->
                            <div class="layui-input-block cover-box">
                                <!-- 左侧裁剪区域 -->
                                <div class="cover-left">
                                    <!-- <input type="file" id="p_img" name="cover_img"> -->
                                    <img id="images" src="/images/cover.jpg" alt="" />
                                </div>
                                <!-- 右侧预览区域和选择封面区域 -->
                                <div class="cover-right">
                                    <!-- 预览的区域 -->
                                    <!-- <div class="img-preview"></div> -->
                                    <!-- 选择封面按钮 -->
                                    <button type="button" class="layui-btn layui-btn-danger"
                                        id="addBtnImg">选择封面</button>
                                    <!-- 隐藏的文件选择框 -->
                                    <input type="file" id="coverFile" style="display: none;"
                                        accept="image/png,image/jpeg,image/gif" />
                                </div>
                            </div>
                        </div>
                        <!-- 按钮 -->
                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <button class="layui-btn" id="bbwz" lay-submit>发布</button>
                                <button class="layui-btn layui-btn-primary" lay-submit id="btnSave2">存为草稿</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>


        <!-- 个人中心 -->
        <!-- 基本资料  -->
        <div class="layui-body hei" id="info">
            <!-- 卡片区域 -->
            <div class="layui-card">
                <div class="layui-card-header">修改用户信息</div>
                <div class="layui-card-body y">
                    <!-- 表单区域 -->
                    <form class="layui-form userInfo" lay-filter="formUserInfo">
                        <!-- 隐藏域 -->
                        <input type="hidden" value="" name="id" />
                        <div class="layui-form-item">
                            <label class="layui-form-label">登录名称</label>
                            <div class="layui-input-block">
                                <input type="text" name="username" required lay-verify="required" placeholder="请输入登录名称"
                                    autocomplete="off" class="layui-input" readonly>
                                <!--readonly只读-->
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">用户昵称</label>
                            <div class="layui-input-block">
                                <input type="text" name="nickname" required lay-verify="required|nickname"
                                    placeholder="请输入用户昵称" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">用户邮箱</label>
                            <div class="layui-input-block">
                                <input type="text" name="email" required lay-verify="required|email"
                                    placeholder="请输入用户邮箱" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <button class="layui-btn" lay-submit lay-filter="formDemo" id="">提交修改</button>
                                <button type="reset" class="layui-btn layui-btn-primary" id="btnReset">重置</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- 更换头像 -->
        <div class="layui-body hei" id="checkImg">
            <!-- 卡片区域 -->
            <div class="layui-card">
                <div class="layui-card-header">更换头像</div>
                <div class="layui-card-body y">
                    <!--  -->
                    <!-- 第一行的图片裁剪和预览区域 -->
                    <div class="row1">
                        <!-- 图片裁剪区域 -->
                        <div class="cropper-box">
                            <!-- 这个 img 标签很重要，将来会把它初始化为裁剪区域 -->
                            <img id="image" src="/images/avatar.jpg" />
                        </div>
                        <!-- 图片的预览区域 -->
                        <div class="preview-box">
                            <div>
                                <!-- 宽高为 100px 的预览区域 -->
                                <div class="img-preview w100"></div>
                                <p class="size">100 x 100</p>
                            </div>
                            <div>
                                <!-- 宽高为 50px 的预览区域 -->
                                <div class="img-preview w50"></div>
                                <p class="size">50 x 50</p>
                            </div>
                        </div>
                    </div>

                    <!-- 第二行的按钮区域 -->
                    <div class="row2">
                        <!-- 通过accept属性，可以指定，允许用户选择什么类型的文件 -->
                        <input type="file" id="file" accept="image/png,image/jpeg">
                        <button type="button" class="layui-btn" id="btnChooseImg">上传</button>
                        <button type="button" class="layui-btn layui-btn-danger" id="btnUpload">确定</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 修改密码 -->
        <div class="layui-body hei" id="resetPass">
            <!-- 卡片区域 -->
            <div class="layui-card">
                <div class="layui-card-header">修改密码</div>
                <div class="layui-card-body y">
                    <!-- 表单区域 -->
                    <form class="layui-form resPwd" lay-filter="formUserInfo">
                        <!-- 隐藏域 -->
                        <!-- <input type="hidden" value="" name="id"/> -->
                        <div class="layui-form-item">
                            <label class="layui-form-label">原密码</label>
                            <div class="layui-input-block">
                                <input type="password" name="oldPwd" required lay-verify="required|pwd"
                                    placeholder="请输入原密码" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">新密码</label>
                            <div class="layui-input-block">
                                <input type="password" name="newPwd" required lay-verify="required|pwd|samePwd"
                                    placeholder="请输入新密码" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">重置密码</label>
                            <div class="layui-input-block">
                                <input type="password" name="rePwd" required lay-verify="required|pwd|rePwd"
                                    placeholder="请输入重置密码" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <button class="layui-btn" lay-submit lay-filter="formDemo" id="">修改密码</button>
                                <button type="reset" class="layui-btn layui-btn-primary" id="btnReset">重置</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="layui-footer">
            <!-- 底部固定区域 -->
            <!-- © www.itheima.com - 黑马程序员 -->
        </div>

        <div id="tanchuang"></div>
    </div>
</body>


<!-- 文章类别 -->
<!-- 表格数据的模板 -->
<script type="text/html" id="tpl-table">
        {{each data}}
        <tr>
          <td>{{$value.Id}}</td>
          <td>{{$value.name}}</td>
          <td>{{$value.alias}}</td>
          <td>
            <button type="button" class="layui-btn layui-btn-xs btn-edit" data-id="{{$value.Id}}">修改</button>
            <button type="button" class="layui-btn layui-btn-danger layui-btn-xs btn-delete" data-id="{{$value.Id}}">删除</button>
          </td>
        </tr>
        {{/each}}
</script>

<!-- 添加分类的弹出层 -->
<script type="text/html" id="dialog-add">
        <form class="layui-form" id="form-add">
          <div class="layui-form-item">
            <label class="layui-form-label">分类名称</label>
            <div class="layui-input-block">
              <input type="text" name="name" required  lay-verify="required" placeholder="请输入分类名称" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">分类别名</label>
            <div class="layui-input-block">
              <input type="text" name="alias" required  lay-verify="required" placeholder="请输入分类别名" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-form-item">
            <div class="layui-input-block">
              <button class="layui-btn" lay-submit lay-filter="formDemo">确认添加</button>
              <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
          </div>
        </form>
</script>

<!-- 修改分类的弹出层 -->
<script type="text/html" id="dialog-edit">
        <form class="layui-form" id="form-edit" lay-filter="form-edit">
          <!-- 隐藏域，保存 Id 的值 -->
          <input type="hidden" name="Id">
          <div class="layui-form-item">
            <label class="layui-form-label">分类名称</label>
            <div class="layui-input-block">
              <input type="text" name="name" required  lay-verify="required" placeholder="请输入分类名称" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-form-item">
            <label class="layui-form-label">分类别名</label>
            <div class="layui-input-block">
              <input type="text" name="alias" required  lay-verify="required" placeholder="请输入分类别名" autocomplete="off" class="layui-input">
            </div>
          </div>
          <div class="layui-form-item">
            <div class="layui-input-block">
              <button class="layui-btn" lay-submit lay-filter="formDemo">确认修改</button>
            </div>
          </div>
        </form>
</script>


<!-- 发布文章 -->
<!-- 分类的模板结构 -->
<script type="text/html" id="tpl-cate">
        <option value="">请选择文章类别</option>
        {{each data}}
        <option value="{{$value.Id}}">{{$value.name}}</option>
        {{/each}}
</script>


<!-- 文章列表-->
<!-- 列表数据的模板引擎 -->
<script type="text/html" id="tpl-table-list">
        {{each data}}
        <tr>
          <td class="ttd"><a href="javascript:;" class="a_btnTan" data-id="{{$value.Id}}">{{$value.title}}</a></td>
          <td>{{$value.cate_name}}</td>
          <td>{{$value.pub_date|dataFormat}}</td>
          <td>{{$value.state}}</td>
          <td>
            <button type="button" class="layui-btn layui-btn-danger layui-btn-xs list-btn-delete" data-id="{{$value.Id}}">删除</button>
          </td>
        </tr>
        {{/each}}
</script>
  
<!-- 分类可选项的模板结构 -->
<script type="text/html" id="tpl-cate-list">
        <option value="">所有分类</option>
        {{each data}}
        <option value="{{$value.Id}}">{{$value.name}}</option>
        {{/each}}
</script> 

<!-- 文章详情 弹出框 -->
<script type="text/html" id="wenzhangxq">
 
    <h1 class="wzTitle">{{title}}</h1>
    <div class="contTitle">
        <span>作者：{{author_id}}</span>
        <span>发布时间：{{pub_date}}</span>
        <span>所属分类：{{cate_id}}</span>
        <span>状态：{{state}}</span>
    </div>
    <hr/>
    <div class="cont">
        <img src="http://www.liulongbin.top:3007{{cover_img}}" alt="">
        {{@content}}
    </div>

</script>


<!--  -->
<script src="/layui.js"></script>

<script>
    //JS 
    layui.use(['element', 'layer', 'util'], function () {
        var element = layui.element
            , layer = layui.layer
            , util = layui.util
            , $ = layui.$;

        //头部事件
        util.event('lay-header-event', {
            //左侧菜单事件
            menuLeft: function (othis) {
                layer.msg('展开左侧菜单的操作', { icon: 0 });
            }
            , menuRight: function () {
                layer.open({
                    type: 1
                    , content: '<div style="padding: 15px;">处理右侧面板的操作</div>'
                    , area: ['260px', '100%']
                    , offset: 'rt' //右上角
                    , anim: 5
                    , shadeClose: true
                });
            }
        });

    });
</script>

<!-- 导入jq -->
<script src="/js/jquery-3.6.0.js"></script>
<script src="/js/Cropper.js"></script>
<script src="/js/jquery-cropper.js"></script>
<!-- 导入 baseAPI-->
<script src="/js/baseAPI.js"></script>
<!-- 导入模板引擎 -->
<script src="/js/template-web.js"></script>
<!-- 富文本 -->
<script src="/js/tinymce.min.js"></script>
<script src="/js/tinymce_setup.js"></script>
<!-- 自定义js -->
<script src="/js/index.js"></script>

</html>